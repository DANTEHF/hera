#!/usr/bin/env node

const mongoose = require('mongoose');
const User = require('../models/User');
const ProductType = require('../models/ProductType');

// 连接 mongo 数据库
mongoose.Promise = global.Promise;
mongoose
  .connect('mongodb://localhost/hera')
  .then(() => {
    console.log('初始化管理员！');
    let user = new User();
    user.username = 'hera';
    user.password = 'hera';
    user.type = 258; // 超级管理员特权号
    user.profile.name = '超级管理员';
    return user.save();
  }).then(() => {
    console.log('用户名 hera 密码 hera 注册成功');
  }).then(() => {
    console.log('初始化产品数据！');
    // 10cm - 50 20cm - 30  30cm - 20
    return ProductType.create([
      {
        type: '租赁类',
        name: '钢管',
        sizes: ["0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1.0","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2","2.1","2.2","2.3","2.4","2.5","2.6","2.7","2.8","2.9","3.0","3.1","3.2","3.3","3.4","3.5","3.6","3.7","3.8","3.9","4.0","4.1","4.2","4.3","4.4","4.5","4.6","4.7","4.8","4.9","5.0","5.1","5.2","5.3","5.4","5.5","5.6","5.7","5.8","5.9","6.0"],
        sizeUnit: '米',
        countUnit: '根',
        unit: '米'
      },
      {
        type: '租赁类',
        name: '扣件',
        sizes: ['十字', '转向', '直接'],
        sizeUnit: '',
        countUnit: '只',
        unit: '只'
      },
      {
        type: '租赁类',
        name: '套筒',
        sizes: ['10CM', '20CM', '30CM'],
        sizeUnit: '',
        countUnit: '只',
        unit: '只'
      },
      {
        type: '租赁类',
        name: '顶丝',
        sizes: ['上托', '下托'],
        sizeUnit: '',
        countUnit: '支',
        unit: '支'
      },
      {
        type: '租赁类',
        name: '工字钢',
        sizes: ["1.5","1.6","1.7","1.8","1.9","2.0","2.1","2.2","2.3","2.4","2.5","2.6","2.7","2.8","2.9","3.0","3.1","3.2","3.3","3.4","3.5","3.6","3.7","3.8","3.9","4.0","4.1","4.2","4.3","4.4","4.5","4.6","4.7","4.8","4.9","5.0","5.5","6.0","9.0"],
        sizeUnit: '米',
        countUnit: '根',
        unit: '米'
      },
      {
        type: '租赁类',
        name: '槽钢',
        sizes: ["1.5","1.6","1.7","1.8","1.9","2.0","2.1","2.2","2.3","2.4","2.5","2.6","2.7","2.8","2.9","3.0","3.1","3.2","3.3","3.4","3.5","3.6","3.7","3.8","3.9","4.0","4.1","4.2","4.3","4.4","4.5","4.6","4.7","4.8","4.9","5.0","5.5","6.0","9.0"],
        sizeUnit: '米',
        countUnit: '根',
        unit: '米'
      },
      {
        type: '租赁类',
        name: '轮扣',
        sizes: ["立杆;0.15","立杆;0.3","立杆;0.6","立杆;0.9","立杆;1.2","立杆;1.5","立杆;1.8","立杆;2.1","立杆;2.4","立杆;2.7","立杆;3.0","横杆;0.3","横杆;0.6","横杆;0.9","横杆;1.2","横杆;1.5"],
        sizeUnit: '米',
        countUnit: '根',
        unit: '米'
      },
      {
        type: '租赁类',
        name: '钢板钢笆',
        sizes: ['750*1000有边', '750*1000没边' ],
        sizeUnit: '',
        countUnit: '张',
        unit: '张'
      },
      {
        type: '租赁类',
        name: '钢筋钢笆',
        sizes: ['750*1000有边', '750*1000没边' ],
        sizeUnit: '',
        countUnit: '张',
        unit: '张'
      },
      {
        type: '租赁类',
        name: '方管',
        sizes: ["6.0","5.9","5.8","5.7","5.6","5.5","5.4","5.3","5.2","5.1","5","4.9","4.8","4.7","4.6","4.5","4.4","4.3","4.2","4.1","4.0","3.9","3.8","3.7","3.6","3.5","3.4","3.3","3.2","3.1","3.0","2.9","2.8","2.7","2.6","2.5","2.4","2.3","2.2","2.1","2.0","1.9","1.8","1.7","1.6","1.5","1.4","1.3","1.2","1.1","1.0","0.9","0.8","0.7","0.6","0.5","0.4"],
        sizeUnit: '米',
        countUnit: '根',
        unit: '米'
      },
      {
        type: '工具类',
        name: '架子',
        sizes: ['钢管架', '扣件托盘', '轮扣立杆架', '轮扣横杆架'], sizeUnit: '',
        countUnit: '个',
        unit: '个'
      },
    ]);
  }).catch(err => {
    console.log(err);
  }).then(() => {
    mongoose.disconnect();
  });
